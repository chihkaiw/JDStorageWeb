<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags" %>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form" %>
<%@ taglib prefix="fmt" uri="http://java.sun.com/jstl/fmt_rt" %>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %> 
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions" %>
<% String path=request.getContextPath() + "/resources/core/js";%>
<% String pathHost=request.getContextPath();%>
<%-- <script type="text/javascript" charset="utf-8" src="<%=path%>/search.js"/></script>--%>

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>




<html lang="zh-tw">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>&#x62DB;&#x5FB7;&#x5EAB;&#x5B58;&#x7CFB;&#x7D71;</title>

<spring:url value="/resources/core/css/bootstrap.min.css" var="bootstrapCss" />

<link href="${bootstrapCss}" rel="stylesheet" />
</head>
<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
	<div class="container">
		<div class="navbar-header">
			<a class="navbar-brand" href="#">&#x62DB;&#x5FB7;&#x5EAB;&#x5B58;&#x7CFB;&#x7D71;</a>
		</div>
	</div>
</nav>
<h2></h2>
 
 <div id="productDetailListDiv" style="margin-top: 100px;">
<c:if test="${productDetailInfoByName != null}">
<div style="text-align:left;font-size:24px;">
&#x7522;&#x54C1;&#x8A73;&#x7D30;&#x8CC7;&#x6599; : ${productName}
</div>
  <div style="height: 29px;">
            <table style="margin-top:10px;" class="table table-hover table-condensed table-striped table-bordered list">
            <thead>
              <tr class="parts-title">
                <th class="tdclass" style="width: 5%;">
              		<div style="float: left;"></div>
	            </th>
                <th class="tdclass" style="width: 25%;">
                    <div style="float: left;">&#x7522;&#x54C1;&#x5EAB;&#x5B58;</div>
                </th>
                <th class="tdclass" style="width: 20%;">
                    <div style="float: left;">&#x66F4;&#x6539;&#x65B9;&#x5F0F;</div>
                </th>
                <th class="tdclass" style="width: 20%;">
                    <div style="float: left;">&#x66F4;&#x6539;&#x6578;&#x91CF;</div>
                </th>
                <th class="tdclass" style="width: 30%;">
                    <div style="float: left;">&#x6642;&#x9593;</div>
                </th>
              </tr>
            </thead>
            </table>
          </div>
          <div style="margin-top: 0px;">
          <c:if test="${productDetailInfoByName != null && fn:length(productDetailInfoByName) > 20}">
                <div style="height: 582px; overflow-y: scroll;">
                <table class="table table-hover table-condensed table-striped table-bordered list">
            <tbody>
              <c:forEach var="obj" items="${productDetailInfoByName}" varStatus="status">
                  <tr>
                  <td style="width: 5%">${status.index + 1}</td>
                  <td style="width: 25%"><c:out value="${obj.howMany}"></c:out></td>
                  <td style="width: 20%"><c:out value="${obj.typeOfChangeName}"></c:out></td>
                  <td style="width: 20%"><c:out value="${obj.numberOfChange}"></c:out></td>
                  <td style="width: 37%"><c:out value="${obj.timeStampWithFormat}"></c:out></td>
                </tr>
              </c:forEach>
            </tbody>
            </table>
        </div>
        </c:if>
        <c:if test="${productDetailInfoByName != null && fn:length(productDetailInfoByName) <= 20}">
                <div>
                <table class="table table-hover table-condensed table-striped table-bordered list">
            <tbody>
              <c:forEach var="obj" items="${productDetailInfoByName}" varStatus="status">
                <tr>
                  <td style="width: 5%">${status.index + 1}</td>
                  <td style="width: 25%"><c:out value="${obj.howMany}"></c:out></td>
                  <td style="width: 20%"><c:out value="${obj.typeOfChangeName}"></c:out></td>
                  <td style="width: 20%"><c:out value="${obj.numberOfChange}"></c:out></td>
                  <td style="width: 30%"><c:out value="${obj.timeStampWithFormat}"></c:out></td>
                </tr>
              </c:forEach>
            </tbody>
            </table>
        </div>
        </c:if>
          </div>
        </c:if>
 </div>
 
<div id="productDetailGoBackDiv" style="margin-left:auto;margin-right:auto;text-align:center;">
    <spring:url var="backUrl" value="<%=pathHost%>" />
    <form:form action="${backUrl}" id = "productDetailBack" name="productDetailBack" method="get" cssClass="text-center">
        <button type="submit" class="btn">&#x56DE;&#x4E0A;&#x4E00;&#x9801;</button>
    </form:form>
</div>



<div>
	<hr>
	<footer>
		<p>&copy; DANNY Inc.</p>
	</footer>
</div>

<spring:url value="/resources/core/css/bootstrap.min.js" var="bootstrapJs" />

<script src="${bootstrapJs}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

</body>
</html>